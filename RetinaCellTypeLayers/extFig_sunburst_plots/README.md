# Create Environment for LS-Plots  
The sunburst plots in Extended Data Figure 4b were generated using the plotly python package.  
Some of the packages that plotly requires to generate and save files may interfere with packages in the main "LSEnv".  
Therefore it is recommended to create a seperate `LS-plots` environment if you want to make your own.

Create the environment:
```
conda create --name LS-plots python=3.7.5 pandas matplotlib seaborn PyTables Biopython scikit-image plotly
```
Activate and install other required packages:
```
conda activate LS-plots

conda install -c bioconda pysam umi_tools subread
conda install -c https://conda.anaconda.org/biocore scikit-bio
conda install jupyterlab
conda install -c conda-forge python-kaleido
```

### Generate .csv files and plots
The .csv files are generated by parsing the numbers from several log files generated by umi-tools, featureCounts, and STAR aligner.  
First run the script:
```
python generate_csv.py
```
To generate the .csv files that has all the sequencing metric numbers.  
The numbers are organized in a hierarchical format which is recognized by the plotly plot sunburst function.
Next run:
```
python generate_plots.py
```
Which will generate the sunburst plots and save them as .pdfs
